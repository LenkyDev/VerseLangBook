# Copyright Epic Games, Inc. All Rights Reserved.

# Test two-parameter slicing integer arrays.
assert{not array{1,2,3,4}.Slice[-1, -1]}
assert{not array{1,2,3,4}.Slice[-1,  0]}
assert{not array{1,2,3,4}.Slice[-1,  1]}
assert{not array{1,2,3,4}.Slice[-1,  2]}
assert{not array{1,2,3,4}.Slice[-1,  3]}
assert{not array{1,2,3,4}.Slice[-1,  4]}
assert{not array{1,2,3,4}.Slice[-1,  5]}

assert{not array{1,2,3,4}.Slice[0, -1]}
assert{    array{1,2,3,4}.Slice[0,  0]=array{}}
assert{    array{1,2,3,4}.Slice[0,  1]=array{1}}
assert{    array{1,2,3,4}.Slice[0,  2]=array{1,2}}
assert{    array{1,2,3,4}.Slice[0,  3]=array{1,2,3}}
assert{    array{1,2,3,4}.Slice[0,  4]=array{1,2,3,4}}
assert{not array{1,2,3,4}.Slice[0,  5]}

assert{not array{1,2,3,4}.Slice[1, -1]}
assert{not array{1,2,3,4}.Slice[1,  0]}
assert{    array{1,2,3,4}.Slice[1,  1]=array{}}
assert{    array{1,2,3,4}.Slice[1,  2]=array{2}}
assert{    array{1,2,3,4}.Slice[1,  3]=array{2,3}}
assert{    array{1,2,3,4}.Slice[1,  4]=array{2,3,4}}
assert{not array{1,2,3,4}.Slice[1,  5]}

assert{not array{1,2,3,4}.Slice[2, -1]}
assert{not array{1,2,3,4}.Slice[2,  0]}
assert{not array{1,2,3,4}.Slice[2,  1]}
assert{    array{1,2,3,4}.Slice[2,  2]=array{}}
assert{    array{1,2,3,4}.Slice[2,  3]=array{3}}
assert{    array{1,2,3,4}.Slice[2,  4]=array{3,4}}
assert{not array{1,2,3,4}.Slice[2,  5]}

assert{not array{1,2,3,4}.Slice[3, -1]}
assert{not array{1,2,3,4}.Slice[3,  0]}
assert{not array{1,2,3,4}.Slice[3,  1]}
assert{not array{1,2,3,4}.Slice[3,  2]}
assert{    array{1,2,3,4}.Slice[3,  3]=array{}}
assert{    array{1,2,3,4}.Slice[3,  4]=array{4}}
assert{not array{1,2,3,4}.Slice[3,  5]}

assert{not array{1,2,3,4}.Slice[4, -1]}
assert{not array{1,2,3,4}.Slice[4,  0]}
assert{not array{1,2,3,4}.Slice[4,  1]}
assert{not array{1,2,3,4}.Slice[4,  2]}
assert{not array{1,2,3,4}.Slice[4,  3]}
assert{    array{1,2,3,4}.Slice[4,  4]=array{}}
assert{not array{1,2,3,4}.Slice[4,  5]}

assert{not array{1,2,3,4}.Slice[5, -1]}
assert{not array{1,2,3,4}.Slice[5,  0]}
assert{not array{1,2,3,4}.Slice[5,  1]}
assert{not array{1,2,3,4}.Slice[5,  2]}
assert{not array{1,2,3,4}.Slice[5,  3]}
assert{not array{1,2,3,4}.Slice[5,  4]}
assert{not array{1,2,3,4}.Slice[5,  5]}

assert{    (for(I:=0..1000) do I).Slice[100, 105]=array{100,101,102,103,104}}

# Test one-parameter slicing on integer arrays.
assert{not array{1,2,3,4}.Slice[-1]}
assert{    array{1,2,3,4}.Slice[0]=array{1,2,3,4}}
assert{    array{1,2,3,4}.Slice[1]=array{2,3,4}}
assert{    array{1,2,3,4}.Slice[2]=array{3,4}}
assert{    array{1,2,3,4}.Slice[3]=array{4}}
assert{    array{1,2,3,4}.Slice[4]=array{}}
assert{not array{1,2,3,4}.Slice[5]}

assert{(for(I:=0..1000) do I).Slice[995]=array{995,996,997,998,999,1000}}

# Test slicing strings/character arrays/character tuples.
assert{"abcdef".Slice[0, 5]=array{'a','b','c','d','e','f'}.Slice[0, 5]=('a','b','c','d','e','f').Slice[0, 5]="abcde"}
assert{"abcdef".Slice[1, 6]=array{'a','b','c','d','e','f'}.Slice[1, 6]=('a','b','c','d','e','f').Slice[1, 6]="bcdef"}
assert{"abcdef".Slice[1, 5]=array{'a','b','c','d','e','f'}.Slice[1, 5]=('a','b','c','d','e','f').Slice[1, 5]="bcde"}